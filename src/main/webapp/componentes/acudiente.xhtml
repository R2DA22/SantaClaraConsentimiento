<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:body>
                <p:outputLabel id="pnl-acudiente" style="width: 100%;" >
                    <p:spacer height="15px" rendered="#{!consentimientoBean.quienDiligencia}" />
                    <p:panelGrid  rendered="#{!consentimientoBean.quienDiligencia}" 
                                  columns="1" layout="grid" styleClass="ui-panelgrid-blank ui-fluid r2da-pnl-grid"  >
                        <p:outputPanel styleClass="rd2a-header" >
                            <p:outputLabel value="Datos del acudiente" />
                        </p:outputPanel> 
                        <p:spacer height="15px" />
                        <p:outputLabel styleClass="r2da-lbl" value="Tipo documento" />
                        <p:selectOneMenu id="slc-tipo-documento" value="#{consentimientoBean.consentimiento.paciente.acudiente.tipoDocumento}"
                                         converter="objectConverter"
                                         styleClass="rd2a-slc-on-menu"  >
                            <f:selectItems value="#{consentimientoBean.lstTipoDocumento}" var="tipodoc" 
                                           itemLabel="#{tipodoc.descripcion}"  
                                           itemValue="#{tipodoc}" />
                            <p:ajax event="change" process="@this" oncomplete="setFoco('frmFormulario', 'documento-acudiente');" />
                        </p:selectOneMenu>
                        <p:outputPanel styleClass="formulario__grupo"  id="grupo-documento-acudiente" >
                            <p:outputLabel styleClass="r2da-lbl" value="Nro. documento" />
                            <p:inputText id="documento-acudiente" 
                                         onkeypress="if (event.keyCode === 13) {
                                                     siguiente('frmFormulario', 'documento-acudiente');
                                                 }"
                                         styleClass="form-control" value="#{consentimientoBean.consentimiento.paciente.acudiente.nroDocumento}"  >
                                <p:ajax event="blur" process="@this" update="frmFormulario:grupo-nombre-acudiente"
                                        listener="#{consentimientoBean.consultarAcudiente()}" oncomplete="actualizarInputs()"/>
                            </p:inputText>
                            <p class="formulario__input-error">El documento solo llevar máximo 15 digitos.</p>
                        </p:outputPanel>
                        <p:outputPanel styleClass="formulario__grupo"  id="grupo-nombre-acudiente" >

                            <!--</div>-->
                            <p:outputLabel styleClass="r2da-lbl" value="Nombre"/>
                            <p:inputText id="nombre-acudiente" 
                                         onkeypress="if (event.keyCode === 13) {
                                                     siguiente('frmFormulario', 'nombre-acudiente');

                                                 }"
                                         styleClass="form-control" value="#{consentimientoBean.consentimiento.paciente.acudiente.nombre}">
                                <p:ajax event="blur" process="@this" />
                            </p:inputText>
                            <p class="formulario__input-error">El nombre no puede llevar números o caracteres especiales.</p>
                        </p:outputPanel>
                    </p:panelGrid>
                </p:outputLabel>
    </h:body>
</html>